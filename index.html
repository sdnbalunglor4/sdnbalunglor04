<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SDN Balunglor 04</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      height: 100%;
    }
    html {
      height: 100%;
    }
    .whatsapp-float {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #25D366;
      color: white;
      border-radius: 50px;
      padding: 15px 25px;
      box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
      cursor: pointer;
      z-index: 1000;
      transition: transform 0.3s ease;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .whatsapp-float:hover {
      transform: scale(1.05);
    }
    .loading-spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid #ffffff;
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .photo-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .photo-modal.active {
      display: flex;
    }
    .photo-modal-content {
      max-width: 90%;
      max-height: 90%;
      position: relative;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="bg-gray-50"><!-- Photo Modal -->
  <div id="photo-modal" class="photo-modal" onclick="closePhotoModal()">
   <div class="photo-modal-content">
    <div id="modal-photo" class="bg-white rounded-2xl shadow-2xl overflow-hidden">
     <div id="modal-image" class="flex items-center justify-center" style="min-height: 400px;"><span class="text-9xl">ğŸ“</span>
     </div>
     <div class="p-6">
      <h3 id="modal-caption" class="text-2xl font-bold text-gray-800 mb-2">Upacara Bendera</h3>
      <p class="text-gray-600">Klik di mana saja untuk menutup</p>
     </div>
    </div>
   </div>
  </div><!-- Header -->
  <header class="bg-blue-600 text-white shadow-lg">
   <div class="container mx-auto px-6 py-6">
    <div class="flex items-center justify-between">
     <div>
      <h1 id="nama-sekolah" class="text-3xl font-bold">SDN Balunglor 04</h1>
      <p id="tagline" class="text-blue-100 mt-1">Membentuk Generasi Cerdas dan Berakhlak Mulia</p>
     </div>
     <div class="text-5xl">
      ğŸ«
     </div>
    </div>
   </div>
  </header><!-- Navigation -->
  <nav class="bg-white shadow-md sticky top-0 z-50">
   <div class="container mx-auto px-6">
    <ul class="flex space-x-8 py-4 overflow-x-auto">
     <li><a href="#beranda" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ  Beranda</a></li>
     <li><a href="#profil" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ“– Profil</a></li>
     <li><a href="#kegiatan" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ“¸ Kegiatan</a></li>
     <li><a href="#galeri" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ–¼ï¸ Galeri</a></li>
     <li><a href="#berita" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ“° Berita</a></li>
     <li><a href="#saran" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ’¬ Saran</a></li>
     <li><a href="#kontak" class="text-gray-700 hover:text-blue-600 font-semibold transition whitespace-nowrap">ğŸ“ Kontak</a></li>
    </ul>
   </div>
  </nav><!-- Main Content -->
  <main class="container mx-auto px-6 py-8"><!-- Beranda Section -->
   <section id="beranda" class="mb-12">
    <div class="bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-2xl p-12 text-center shadow-xl">
     <h2 class="text-4xl font-bold mb-4">Selamat Datang di SDN Balunglor 04</h2>
     <p class="text-xl text-blue-100 mb-6">Tempat Menimba Ilmu dan Mengembangkan Karakter</p><button onclick="scrollToSection('profil')" class="bg-white text-blue-600 px-8 py-3 rounded-full font-bold hover:bg-blue-50 transition">Kenali Kami Lebih Dekat</button>
    </div>
   </section><!-- Profil Section -->
   <section id="profil" class="mb-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“– Profil Sekolah</h2>
    <div class="grid md:grid-cols-2 gap-6">
     <div class="bg-white p-8 rounded-xl shadow-md">
      <h3 class="text-2xl font-bold text-blue-600 mb-4">Visi</h3>
      <p class="text-gray-700 leading-relaxed">Terwujudnya peserta didik yang cerdas, terampil, beriman, bertaqwa, dan berakhlak mulia berdasarkan Pancasila.</p>
     </div>
     <div class="bg-white p-8 rounded-xl shadow-md">
      <h3 class="text-2xl font-bold text-blue-600 mb-4">Misi</h3>
      <ul class="text-gray-700 space-y-2 list-disc list-inside">
       <li>Menyelenggarakan pembelajaran yang berkualitas</li>
       <li>Membentuk karakter siswa yang berakhlak mulia</li>
       <li>Mengembangkan potensi dan bakat siswa</li>
       <li>Menciptakan lingkungan sekolah yang kondusif</li>
      </ul>
     </div>
    </div>
   </section><!-- Kegiatan Section -->
   <section id="kegiatan" class="mb-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“¸ Kegiatan Sekolah</h2>
    <div class="grid md:grid-cols-3 gap-6">
     <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="bg-gradient-to-br from-green-400 to-green-600 h-48 flex items-center justify-center"><span class="text-7xl">ğŸ¨</span>
      </div>
      <div class="p-6">
       <h3 class="text-xl font-bold text-gray-800 mb-2">Lomba Melukis</h3>
       <p class="text-gray-600 mb-4">Siswa mengikuti lomba melukis tingkat kecamatan dan meraih juara 1.</p><button onclick="shareToWhatsApp('Lomba Melukis', 'Siswa mengikuti lomba melukis tingkat kecamatan')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition w-full font-semibold">ğŸ’¬ Diskusi via WhatsApp</button>
      </div>
     </div>
     <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="bg-gradient-to-br from-purple-400 to-purple-600 h-48 flex items-center justify-center"><span class="text-7xl">âš½</span>
      </div>
      <div class="p-6">
       <h3 class="text-xl font-bold text-gray-800 mb-2">Olahraga Bersama</h3>
       <p class="text-gray-600 mb-4">Kegiatan olahraga rutin setiap Jumat pagi untuk kesehatan siswa.</p><button onclick="shareToWhatsApp('Olahraga Bersama', 'Kegiatan olahraga rutin setiap Jumat pagi')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition w-full font-semibold">ğŸ’¬ Diskusi via WhatsApp</button>
      </div>
     </div>
     <div class="bg-white rounded-xl shadow-md overflow-hidden">
      <div class="bg-gradient-to-br from-orange-400 to-orange-600 h-48 flex items-center justify-center"><span class="text-7xl">ğŸ“š</span>
      </div>
      <div class="p-6">
       <h3 class="text-xl font-bold text-gray-800 mb-2">Kunjungan Perpustakaan</h3>
       <p class="text-gray-600 mb-4">Program literasi dengan kunjungan rutin ke perpustakaan daerah.</p><button onclick="shareToWhatsApp('Kunjungan Perpustakaan', 'Program literasi dengan kunjungan rutin')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition w-full font-semibold">ğŸ’¬ Diskusi via WhatsApp</button>
      </div>
     </div>
    </div>
   </section><!-- Galeri Foto Section -->
   <section id="galeri" class="mb-12">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
     <h2 class="text-3xl font-bold text-gray-800">ğŸ–¼ï¸ Galeri Foto</h2><button onclick="openGooglePhotos()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold shadow-md flex items-center gap-2"> <span>ğŸ“·</span> <span>Lihat Semua Foto</span> </button>
    </div>
    <div class="bg-white rounded-xl shadow-md p-6 mb-6">
     <div class="bg-blue-50 border-l-4 border-blue-600 p-4 mb-6 rounded">
      <p class="text-gray-700"><strong>ğŸ’¡ Untuk Admin:</strong> Klik emoji di bawah ini di Canva Editor untuk upload foto asli. Untuk koleksi foto lengkap, atur link Google Photos di pengaturan.</p>
     </div>
     <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><!-- Foto 1 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(0)">
       <div class="bg-gradient-to-br from-blue-400 to-blue-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ“</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Upacara Bendera</p>
      </div><!-- Foto 2 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(1)">
       <div class="bg-gradient-to-br from-green-400 to-green-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ†</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Juara Lomba</p>
      </div><!-- Foto 3 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(2)">
       <div class="bg-gradient-to-br from-purple-400 to-purple-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ­</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Pentas Seni</p>
      </div><!-- Foto 4 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(3)">
       <div class="bg-gradient-to-br from-red-400 to-red-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ•Œ</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Kegiatan Keagamaan</p>
      </div><!-- Foto 5 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(4)">
       <div class="bg-gradient-to-br from-yellow-400 to-yellow-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸŒ³</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Penghijauan</p>
      </div><!-- Foto 6 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(5)">
       <div class="bg-gradient-to-br from-pink-400 to-pink-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸª</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Karnaval Sekolah</p>
      </div><!-- Foto 7 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(6)">
       <div class="bg-gradient-to-br from-indigo-400 to-indigo-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ§ª</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Praktikum IPA</p>
      </div><!-- Foto 8 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(7)">
       <div class="bg-gradient-to-br from-teal-400 to-teal-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ¨</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Seni Lukis</p>
      </div><!-- Foto 9 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(8)">
       <div class="bg-gradient-to-br from-cyan-400 to-cyan-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ“–</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Literasi</p>
      </div><!-- Foto 10 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(9)">
       <div class="bg-gradient-to-br from-lime-400 to-lime-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">âš½</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Olahraga</p>
      </div><!-- Foto 11 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(10)">
       <div class="bg-gradient-to-br from-amber-400 to-amber-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸ¤</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Pidato</p>
      </div><!-- Foto 12 -->
      <div class="relative group cursor-pointer" onclick="openPhotoModal(11)">
       <div class="bg-gradient-to-br from-rose-400 to-rose-600 aspect-square rounded-lg flex items-center justify-center overflow-hidden shadow-md transition transform group-hover:scale-105"><span class="text-6xl">ğŸˆ</span>
       </div>
       <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition rounded-lg flex items-center justify-center"><span class="text-white opacity-0 group-hover:opacity-100 text-4xl">ğŸ”</span>
       </div>
       <p class="text-center text-sm text-gray-700 mt-2 font-semibold">Perayaan</p>
      </div>
     </div>
     <div class="mt-8 pt-6 border-t border-gray-200 text-center">
      <h3 class="text-xl font-bold text-gray-800 mb-4">ğŸ“š Koleksi Foto Lengkap</h3>
      <p class="text-gray-600 mb-6">Lihat ratusan foto kegiatan sekolah lainnya di album Google Photos kami</p><button onclick="openGooglePhotos()" class="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-bold shadow-lg inline-flex items-center gap-3"> <span class="text-2xl">ğŸ“·</span> <span>Buka Album Foto Lengkap</span> </button>
      <p class="text-sm text-gray-500 mt-4">ğŸ’¡ Admin dapat mengatur link Google Photos di panel edit</p>
     </div>
    </div>
   </section><!-- Berita Section -->
   <section id="berita" class="mb-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“° Berita Terkini</h2>
    <div class="space-y-6">
     <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-600">
      <div class="flex justify-between items-start mb-3">
       <h3 class="text-2xl font-bold text-gray-800">Penerimaan Siswa Baru 2025</h3><span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold">Baru</span>
      </div>
      <p class="text-gray-600 mb-4">Pendaftaran siswa baru tahun ajaran 2025/2026 telah dibuka. Segera daftarkan putra-putri Anda di SDN Balunglor 04. Kuota terbatas!</p>
      <div class="flex gap-3"><button onclick="shareToWhatsApp('Penerimaan Siswa Baru 2025', 'Pendaftaran siswa baru telah dibuka')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition font-semibold flex-1">ğŸ’¬ Tanya via WhatsApp</button> <button onclick="openWhatsApp()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-semibold flex-1">ğŸ“ Hubungi Admin</button>
      </div>
     </div>
     <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-green-600">
      <div class="flex justify-between items-start mb-3">
       <h3 class="text-2xl font-bold text-gray-800">Prestasi Lomba Matematika</h3><span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-semibold">Prestasi</span>
      </div>
      <p class="text-gray-600 mb-4">Selamat kepada siswa kelas 6 yang berhasil meraih juara 2 dalam Olimpiade Matematika tingkat Kabupaten. Prestasi membanggakan!</p><button onclick="shareToWhatsApp('Prestasi Lomba Matematika', 'Juara 2 Olimpiade Matematika tingkat Kabupaten')" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition w-full font-semibold">ğŸ’¬ Diskusi via WhatsApp</button>
     </div>
    </div>
   </section><!-- Form Saran & Pengaduan -->
   <section id="saran" class="mb-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ’¬ Saran &amp; Pengaduan</h2>
    <div class="bg-white rounded-xl shadow-md p-8">
     <p class="text-gray-600 mb-6">Kami sangat menghargai masukan Anda untuk kemajuan sekolah. Silakan isi form di bawah ini:</p>
     <form id="form-saran" class="space-y-6">
      <div><label for="input-nama" class="block text-gray-700 font-semibold mb-2">Nama Lengkap</label> <input type="text" id="input-nama" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Masukkan nama Anda" required>
      </div>
      <div><label for="input-kontak" class="block text-gray-700 font-semibold mb-2">Email / No. HP</label> <input type="text" id="input-kontak" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Email atau nomor WhatsApp" required>
      </div>
      <div><label for="input-kategori" class="block text-gray-700 font-semibold mb-2">Kategori</label> <select id="input-kategori" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required> <option value="">Pilih Kategori</option> <option value="Saran">ğŸ’¡ Saran</option> <option value="Pengaduan">âš ï¸ Pengaduan</option> <option value="Pertanyaan">â“ Pertanyaan</option> <option value="Pujian">â­ Pujian</option> </select>
      </div>
      <div><label for="input-pesan" class="block text-gray-700 font-semibold mb-2">Pesan</label> <textarea id="input-pesan" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Tulis pesan Anda di sini..." required></textarea>
      </div>
      <div id="pesan-sukses" class="hidden bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg">
       âœ… Terima kasih! Pesan Anda telah berhasil dikirim. Admin akan segera menindaklanjuti.
      </div>
      <div id="pesan-error" class="hidden bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg">
       âŒ Maaf, terjadi kesalahan. Silakan coba lagi atau hubungi admin via WhatsApp.
      </div>
      <div id="pesan-limit" class="hidden bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg">
       âš ï¸ Batas maksimum 999 pesan telah tercapai. Silakan hubungi admin via WhatsApp untuk pengaduan mendesak.
      </div><button type="submit" id="btn-kirim" class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition shadow-lg"> Kirim Pesan </button>
     </form>
     <div class="mt-6 pt-6 border-t border-gray-200">
      <p class="text-gray-600 text-center mb-3">ğŸ“Š Total Pesan yang Masuk: <span id="total-pesan" class="font-bold text-blue-600">0</span></p>
      <p class="text-gray-500 text-sm text-center">Data tersimpan di Canva Sheet. Admin dapat melihat semua pesan di tab "Data".</p>
     </div>
    </div>
   </section><!-- Kontak Section -->
   <section id="kontak" class="mb-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“ Hubungi Kami</h2>
    <div class="grid md:grid-cols-2 gap-6">
     <div class="bg-white rounded-xl shadow-md p-8">
      <h3 class="text-2xl font-bold text-blue-600 mb-4">Informasi Kontak</h3>
      <div class="space-y-4 text-gray-700">
       <p><strong>Admin:</strong> <span id="nama-admin">Ibu Kholidah</span></p>
       <p><strong>Alamat:</strong> <span id="alamat-sekolah">Jl. Pendidikan No. 123, Balunglor, Jember</span></p>
       <p><strong>WhatsApp:</strong> <span id="display-wa">+62 852-3064-8427</span></p>
      </div><button onclick="openWhatsApp()" class="mt-6 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition w-full font-bold shadow-lg"> ğŸ’¬ Chat WhatsApp Sekarang </button>
     </div>
     <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-xl shadow-md p-8">
      <h3 class="text-2xl font-bold mb-4">Jam Operasional</h3>
      <div class="space-y-3">
       <p><strong>Senin - Jumat:</strong> 07:00 - 14:00 WIB</p>
       <p><strong>Sabtu:</strong> 07:00 - 11:00 WIB</p>
       <p><strong>Minggu &amp; Libur:</strong> Tutup</p>
      </div>
      <div class="mt-6 pt-6 border-t border-blue-400">
       <p class="text-sm text-blue-100">Untuk pertanyaan mendesak, hubungi admin via WhatsApp</p>
      </div>
     </div>
    </div>
   </section>
  </main><!-- Footer -->
  <footer class="bg-gray-800 text-white py-8">
   <div class="container mx-auto px-6 text-center">
    <p class="mb-2">Â© 2025 SDN Balunglor 04. Semua Hak Dilindungi.</p>
    <p class="text-gray-400 text-sm">Dibuat dengan â¤ï¸ untuk pendidikan Indonesia</p>
   </div>
  </footer><!-- Floating WhatsApp Button -->
  <div class="whatsapp-float" onclick="openWhatsApp()"><span class="text-2xl">ğŸ’¬</span> <span>Hubungi Admin</span>
  </div>
  <script>
    // Default Configuration
    const defaultConfig = {
      nama_sekolah: "SDN Balunglor 04",
      tagline: "Membentuk Generasi Cerdas dan Berakhlak Mulia",
      nama_admin: "Ibu Kholidah",
      nomor_whatsapp: "6285230648427",
      alamat_sekolah: "Jl. Pendidikan No. 123, Balunglor, Jember",
      link_google_photos: "",
      background_color: "#3B82F6",
      surface_color: "#FFFFFF",
      text_color: "#1F2937",
      primary_action_color: "#2563EB",
      secondary_action_color: "#10B981"
    };

    // Photo data for modal
    const photoData = [
      { emoji: "ğŸ“", caption: "Upacara Bendera", gradient: "from-blue-400 to-blue-600" },
      { emoji: "ğŸ†", caption: "Juara Lomba", gradient: "from-green-400 to-green-600" },
      { emoji: "ğŸ­", caption: "Pentas Seni", gradient: "from-purple-400 to-purple-600" },
      { emoji: "ğŸ•Œ", caption: "Kegiatan Keagamaan", gradient: "from-red-400 to-red-600" },
      { emoji: "ğŸŒ³", caption: "Penghijauan", gradient: "from-yellow-400 to-yellow-600" },
      { emoji: "ğŸª", caption: "Karnaval Sekolah", gradient: "from-pink-400 to-pink-600" },
      { emoji: "ğŸ§ª", caption: "Praktikum IPA", gradient: "from-indigo-400 to-indigo-600" },
      { emoji: "ğŸ¨", caption: "Seni Lukis", gradient: "from-teal-400 to-teal-600" },
      { emoji: "ğŸ“–", caption: "Literasi", gradient: "from-cyan-400 to-cyan-600" },
      { emoji: "âš½", caption: "Olahraga", gradient: "from-lime-400 to-lime-600" },
      { emoji: "ğŸ¤", caption: "Pidato", gradient: "from-amber-400 to-amber-600" },
      { emoji: "ğŸˆ", caption: "Perayaan", gradient: "from-rose-400 to-rose-600" }
    ];

    let allMessages = [];
    let isSubmitting = false;

    // Data SDK Handler
    const dataHandler = {
      onDataChanged(data) {
        allMessages = data;
        updateMessageCount();
      }
    };

    // Initialize SDK
    async function initializeApp() {
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error("Failed to initialize Data SDK");
        }
      }

      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            const namaSekolah = config.nama_sekolah || defaultConfig.nama_sekolah;
            const tagline = config.tagline || defaultConfig.tagline;
            const namaAdmin = config.nama_admin || defaultConfig.nama_admin;
            const nomorWa = config.nomor_whatsapp || defaultConfig.nomor_whatsapp;
            const alamat = config.alamat_sekolah || defaultConfig.alamat_sekolah;
            const bgColor = config.background_color || defaultConfig.background_color;
            const surfaceColor = config.surface_color || defaultConfig.surface_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
            const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;

            document.getElementById('nama-sekolah').textContent = namaSekolah;
            document.getElementById('tagline').textContent = tagline;
            document.getElementById('nama-admin').textContent = namaAdmin;
            document.getElementById('alamat-sekolah').textContent = alamat;
            
            const formattedWa = nomorWa.replace(/^62/, '0').replace(/(\d{4})(\d{4})(\d{4})/, '$1-$2-$3');
            document.getElementById('display-wa').textContent = `+${nomorWa.substring(0, 2)} ${formattedWa.substring(1)}`;

            document.querySelector('header').style.backgroundColor = bgColor;
            const surfaces = document.querySelectorAll('.bg-white');
            surfaces.forEach(el => el.style.backgroundColor = surfaceColor);
            
            const texts = document.querySelectorAll('.text-gray-800, .text-gray-700');
            texts.forEach(el => el.style.color = textColor);

            const primaryBtns = document.querySelectorAll('.bg-blue-600, .bg-blue-500');
            primaryBtns.forEach(el => el.style.backgroundColor = primaryColor);

            const secondaryBtns = document.querySelectorAll('.bg-green-500');
            secondaryBtns.forEach(el => el.style.backgroundColor = secondaryColor);
          },
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () => config.background_color || defaultConfig.background_color,
                set: (value) => {
                  if (window.elementSdk) {
                    window.elementSdk.config.background_color = value;
                    window.elementSdk.setConfig({ background_color: value });
                  }
                }
              },
              {
                get: () => config.surface_color || defaultConfig.surface_color,
                set: (value) => {
                  if (window.elementSdk) {
                    window.elementSdk.config.surface_color = value;
                    window.elementSdk.setConfig({ surface_color: value });
                  }
                }
              },
              {
                get: () => config.text_color || defaultConfig.text_color,
                set: (value) => {
                  if (window.elementSdk) {
                    window.elementSdk.config.text_color = value;
                    window.elementSdk.setConfig({ text_color: value });
                  }
                }
              },
              {
                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                set: (value) => {
                  if (window.elementSdk) {
                    window.elementSdk.config.primary_action_color = value;
                    window.elementSdk.setConfig({ primary_action_color: value });
                  }
                }
              },
              {
                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                set: (value) => {
                  if (window.elementSdk) {
                    window.elementSdk.config.secondary_action_color = value;
                    window.elementSdk.setConfig({ secondary_action_color: value });
                  }
                }
              }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ["nama_sekolah", config.nama_sekolah || defaultConfig.nama_sekolah],
            ["tagline", config.tagline || defaultConfig.tagline],
            ["nama_admin", config.nama_admin || defaultConfig.nama_admin],
            ["nomor_whatsapp", config.nomor_whatsapp || defaultConfig.nomor_whatsapp],
            ["alamat_sekolah", config.alamat_sekolah || defaultConfig.alamat_sekolah],
            ["link_google_photos", config.link_google_photos || defaultConfig.link_google_photos]
          ])
        });
      }
    }

    // Photo Modal Functions
    function openPhotoModal(index) {
      const photo = photoData[index];
      const modal = document.getElementById('photo-modal');
      const modalImage = document.getElementById('modal-image');
      const modalCaption = document.getElementById('modal-caption');
      
      modalImage.className = `bg-gradient-to-br ${photo.gradient} flex items-center justify-center p-12`;
      modalImage.innerHTML = `<span class="text-9xl">${photo.emoji}</span>`;
      modalCaption.textContent = photo.caption;
      
      modal.classList.add('active');
    }

    function closePhotoModal() {
      document.getElementById('photo-modal').classList.remove('active');
    }

    // Update message count
    function updateMessageCount() {
      document.getElementById('total-pesan').textContent = allMessages.length;
    }

    // Form submission
    document.getElementById('form-saran').addEventListener('submit', async (e) => {
      e.preventDefault();

      if (isSubmitting) return;

      if (allMessages.length >= 999) {
        showMessage('pesan-limit');
        return;
      }

      isSubmitting = true;
      const btnKirim = document.getElementById('btn-kirim');
      const originalText = btnKirim.innerHTML;
      btnKirim.innerHTML = '<span class="loading-spinner"></span> Mengirim...';
      btnKirim.disabled = true;

      hideAllMessages();

      const nama = document.getElementById('input-nama').value;
      const kontak = document.getElementById('input-kontak').value;
      const kategori = document.getElementById('input-kategori').value;
      const pesan = document.getElementById('input-pesan').value;

      const newMessage = {
        nama,
        kontak,
        kategori,
        pesan,
        tanggal: new Date().toISOString()
      };

      if (window.dataSdk) {
        const result = await window.dataSdk.create(newMessage);
        
        btnKirim.innerHTML = originalText;
        btnKirim.disabled = false;
        isSubmitting = false;

        if (result.isOk) {
          showMessage('pesan-sukses');
          document.getElementById('form-saran').reset();
          setTimeout(hideAllMessages, 5000);
        } else {
          showMessage('pesan-error');
        }
      }
    });

    function showMessage(id) {
      hideAllMessages();
      document.getElementById(id).classList.remove('hidden');
    }

    function hideAllMessages() {
      document.getElementById('pesan-sukses').classList.add('hidden');
      document.getElementById('pesan-error').classList.add('hidden');
      document.getElementById('pesan-limit').classList.add('hidden');
    }

    // Google Photos function
    function openGooglePhotos() {
      const config = window.elementSdk?.config || defaultConfig;
      const link = config.link_google_photos || defaultConfig.link_google_photos;
      
      if (link && link.trim() !== '') {
        window.open(link, '_blank', 'noopener,noreferrer');
      } else {
        const modalDiv = document.createElement('div');
        modalDiv.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
        modalDiv.innerHTML = `
          <div class="bg-white rounded-xl p-8 max-w-md">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“· Link Belum Diatur</h3>
            <p class="text-gray-600 mb-6">Admin belum mengatur link Google Photos. Silakan hubungi admin untuk informasi lebih lanjut.</p>
            <div class="flex gap-3">
              <button onclick="this.parentElement.parentElement.parentElement.remove()" class="flex-1 bg-gray-200 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-300 transition font-semibold">Tutup</button>
              <button onclick="openWhatsApp(); this.parentElement.parentElement.parentElement.remove()" class="flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition font-semibold">ğŸ’¬ Hubungi Admin</button>
            </div>
          </div>
        `;
        document.body.appendChild(modalDiv);
      }
    }

    // WhatsApp functions
    function openWhatsApp() {
      const config = window.elementSdk?.config || defaultConfig;
      const nomorWa = config.nomor_whatsapp || defaultConfig.nomor_whatsapp;
      const namaAdmin = config.nama_admin || defaultConfig.nama_admin;
      const pesan = `Halo ${namaAdmin}, saya ingin bertanya tentang SDN Balunglor 04.`;
      const url = `https://wa.me/${nomorWa}?text=${encodeURIComponent(pesan)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function shareToWhatsApp(judul, deskripsi) {
      const config = window.elementSdk?.config || defaultConfig;
      const nomorWa = config.nomor_whatsapp || defaultConfig.nomor_whatsapp;
      const pesan = `Halo, saya ingin diskusi tentang:\n\n*${judul}*\n${deskripsi}\n\nBisa dibantu informasinya?`;
      const url = `https://wa.me/${nomorWa}?text=${encodeURIComponent(pesan)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
    }

    // Initialize on load
    initializeApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a070a00e0d3f46d',t:'MTc2MzQ2NDQxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
